FROM alpine:3.20

COPY rootfs/ /

RUN apk add --no-cache wireguard-tools jq

ENV SURFSHARK_WG_PRIVATE_KEY=
ENV SURFSHARK_WG_PEER_LOCATION="Hong Kong"
ENV SURFSHARK_WG_PEER_ENDPOINT=

ENV SURFSHARK_INCLUDED_ROUTES=0.0.0.0/2,64.0.0.0/2,96.0.0.0/3,112.0.0.0/4,120.0.0.0/5,124.0.0.0/6,126.0.0.0/7,128.0.0.0/1
ENV SURFSHARK_EXTRA_INCLUDED_ROUTES=
ENV SURFSHARK_EXCLUDED_ROUTES=10.0.0.0/8,100.64.0.0/10,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.168.0.0/16,224.0.0.0/24,240.0.0.0/4,239.255.255.250/32,255.255.255.255/32
ENV SURFSHARK_EXTRA_EXCLUDED_ROUTES=
ENV SURFSHARK_EXCLUDED_HOSTS=

ENTRYPOINT ["/entrypoint.sh"]
